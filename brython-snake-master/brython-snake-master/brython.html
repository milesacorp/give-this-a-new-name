<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brython Snake</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/brython@3.8.9/brython.min.js">
    </script>
    <script type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/brython@3.8.9/brython_stdlib.js">
    </script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

    <style>

        h1 {
            margin-top: 8%;
            color: rgb(83, 238, 36);
        }

        h3 {
            color:rgb(190, 187, 187);
        }

        h6 {
            color:rgb(117, 117, 117);
        }

        a {
            color: rgb(83, 238, 36);
        }

        button {
            display: block;
            margin-left: auto;
            margin-right: auto;
            background-color: transparent !important;
            border-color: rgb(155, 156, 155) !important;
            color: rgb(155, 156, 155) !important;
            font-size: 8px !important;
            padding: 3px !important;
        }

        button:hover {
            border-color: rgb(68, 241, 68) !important;
            color: rgb(194, 196, 194) !important;
        }

        body {
            background-color: black;
        }

        canvas {
            margin-top: 1%;
            padding-left: 0;
            padding-right: 0;
            margin-left: auto;
            margin-right: auto;
            display: block;
            border: 1px;
            border-style: solid;
            border-color: #535353;
        }

    </style>

</head>

<body onload="brython()">

    <h1 class="text-center">Snake built with <a href="https://brython.info">Python!</a></h1>
    <canvas id="game-board" width="400" height="400"></canvas>
    <br>
    <h3 id="score" class="text-center">Score: 0</h3>
    <br>
    <h6 id="high-score" class="text-center">High Score: 0</h6>
    <br>
    <div class="text-center">
        <button id="instructions-btn" class="btn btn-info">Instructions</button>
    </div>


    <script type="text/python">
        '''
        Function:
            Python小游戏合集
        Author:
            Charles
        微信公众号:
            Charles的皮卡丘
        '''
        import sys
        import warnings
        from PyQt5.QtWidgets import QApplication
        if __name__ == '__main__':
            from core import *
        else:
            from .core import *
        warnings.filterwarnings('ignore')
        
        
        '''Python实用工具集'''
        class CPGames():
            def __init__(self, **kwargs):
                for key, value in kwargs.items(): setattr(self, key, value)
                self.supported_games = self.initialize()
            '''执行对应的小程序'''
            def execute(self, game_type=None, config={}):
                assert game_type in self.supported_games, 'unsupport game_type %s...' % game_type
                qt_games = ['tetris', 'gobang']
                if game_type in qt_games:
                    app = QApplication(sys.argv)
                    client = self.supported_games[game_type](**config)
                    client.show()
                    sys.exit(app.exec_())
                else:
                    client = self.supported_games[game_type](**config)
                    client.run()
            '''初始化'''
            def initialize(self):
                supported_games = {
                    'ski': SkiGame,
                    'maze': MazeGame,
                    'gobang': GobangGame,
                    'tetris': TetrisGame,
                    'pacman': PacmanGame,
                    'gemgem': GemGemGame,
                    'tankwar': TankWarGame,
                    'sokoban': SokobanGame,
                    'pingpong': PingpongGame,
                    'trexrush': TRexRushGame,
                    'bomberman': BomberManGame,
                    'whacamole': WhacAMoleGame,
                    'catchcoins': CatchCoinsGame,
                    'flappybird': FlappyBirdGame,
                    'angrybirds': AngryBirdsGame,
                    'magictower': MagicTowerGame,
                    'aircraftwar': AircraftWarGame,
                    'bunnybadger': BunnyBadgerGame,
                    'minesweeper': MineSweeperGame,
                    'greedysnake': GreedySnakeGame,
                    'puzzlepieces': PuzzlePiecesGame,
                    'towerdefense': TowerDefenseGame,
                    'bloodfootball': BloodFootballGame,
                    'alieninvasion': AlienInvasionGame,
                    'breakoutclone': BreakoutcloneGame,
                    'twentyfourpoint': TwentyfourPointGame,
                    'flipcardbymemory': FlipCardByMemoryGame,
                    'twozerofoureight': TwoZeroFourEightGame,
                    'voicecontrolpikachu': VoiceControlPikachuGame,
                }
                return supported_games
            '''获得所有支持的游戏信息'''
            def getallsupported(self):
                all_supports = {}
                for key, value in self.supported_games.items():
                    all_supports[value.game_type] = key
                return all_supports
            '''str'''
            def __str__(self):
                return 'Welcome to use CPGames!\nYou can visit https://github.com/CharlesPikachu/Games for more details.'
        
        
        '''run'''
        if __name__ == '__main__':
            import random
            games_client = CPGames()
            all_supports = games_client.getallsupported()
            games_client.execute(random.choice(list(all_supports.values())))

</script>

</body>

</html>